# 별칭 시스템 설계 및 매칭 우선순위

## 시나리오 분석

### 예시 글들
1. **글 A**: 제목 "Next.js", 별칭: []
2. **글 B**: 제목 "Next.js의 장점", 별칭: ["Next.js"]
3. **글 C**: 제목 "Next.js vs React", 별칭: ["Next.js"]

### 다른 글에서 "Next.js" 언급 시

## 매칭 우선순위 전략

### 전략 1: 정확한 제목 매칭 우선 (추천)

**우선순위:**
1. **제목 전체 정확 매칭** (최우선)
   - "Next.js" 언급 → 글 A (제목이 정확히 "Next.js")
   
2. **긴 제목부터 매칭** (별칭 포함)
   - "Next.js의 장점" 언급 → 글 B
   - "Next.js vs React" 언급 → 글 C
   
3. **별칭 매칭** (제목 매칭이 없을 때만)
   - "Next.js" 언급 → 글 A (제목 매칭) > 글 B (별칭) > 글 C (별칭)
   - 별칭 매칭 중에서는 제목이 긴 것부터 우선

**결과:**
- "Next.js" 언급 → **글 A** (기본 개념 글)
- "Next.js의 장점" 언급 → **글 B**
- "Next.js vs React" 언급 → **글 C**

### 전략 2: 기본 개념 글 우선

**우선순위:**
1. **가장 짧은 제목** (기본 개념으로 간주)
2. 제목 전체 정확 매칭
3. 긴 제목부터 매칭
4. 별칭 매칭

**결과:**
- "Next.js" 언급 → **글 A** (가장 짧은 제목)
- "Next.js의 장점" 언급 → **글 B**
- "Next.js vs React" 언급 → **글 C**

### 전략 3: 컨텍스트 기반 매칭 (고급)

**개념:**
- 문맥을 분석하여 가장 관련성 높은 글 선택
- 예: "Next.js의 성능" 언급 → "Next.js의 장점" 글 선택

**단점:**
- 구현 복잡도 높음
- 정확도 문제

## 추천 구현: 전략 1 (정확한 제목 매칭 우선)

### 매칭 로직

```typescript
1. 제목 전체 정확 매칭 검색
   - "Next.js" → 글 A ✅ (최우선)

2. 제목 부분 매칭 검색 (긴 것부터)
   - "Next.js의 장점" → 글 B
   - "Next.js vs React" → 글 C

3. 별칭 매칭 검색 (제목 매칭이 없을 때만)
   - "Next.js" (별칭) → 글 B, 글 C
   - 제목이 긴 것부터 우선
```

### 별칭 설정 가이드

#### 글 A: "Next.js"
```
제목: "Next.js"
별칭: [] 또는 ["NextJS", "next.js"]
설명: 기본 개념 글은 별칭을 최소화하거나 다른 표현만 추가
```

#### 글 B: "Next.js의 장점"
```
제목: "Next.js의 장점"
별칭: [] (권장)
설명: 제목이 이미 구체적이므로 별칭 불필요
     다른 글에서 "Next.js의 장점"을 정확히 언급하면 이 글로 링크
```

#### 글 C: "Next.js vs React"
```
제목: "Next.js vs React"
별칭: [] (권장)
설명: 제목이 이미 구체적이므로 별칭 불필요
```

### 실제 사용 시나리오

#### 시나리오 1: 기본 개념 언급
```
다른 글 내용: "Next.js는 React 기반 프레임워크입니다."
→ "Next.js" 매칭 → 글 A (기본 개념) 선택
```

#### 시나리오 2: 구체적인 주제 언급
```
다른 글 내용: "Next.js의 장점을 살펴보면..."
→ "Next.js의 장점" 매칭 → 글 B 선택
```

#### 시나리오 3: 비교 언급
```
다른 글 내용: "Next.js vs React 비교..."
→ "Next.js vs React" 매칭 → 글 C 선택
```

## 별칭 사용 가이드라인

### 별칭을 사용해야 하는 경우

1. **다양한 표현이 있는 경우**
   - 제목: "JavaScript"
   - 별칭: ["JS", "자바스크립트", "javascript"]

2. **약어가 있는 경우**
   - 제목: "React"
   - 별칭: ["React.js", "ReactJS"]

3. **한글/영문 혼용**
   - 제목: "타입스크립트"
   - 별칭: ["TypeScript", "TS"]

### 별칭을 사용하지 않는 경우

1. **제목이 이미 구체적인 경우**
   - "Next.js의 장점" → 별칭 불필요
   - 제목 전체가 언급되면 자동으로 링크 생성

2. **기본 개념 글인 경우**
   - "Next.js" → 별칭 최소화
   - 다른 표현만 추가 (NextJS, next.js 등)

## 구현 예시

### 매칭 우선순위 코드

```typescript
// 1단계: 제목 전체 정확 매칭
const exactTitleMatch = articles.find(a => 
  text.includes(a.title)
)

// 2단계: 제목 부분 매칭 (긴 것부터)
const titleMatches = articles
  .filter(a => text.includes(a.title))
  .sort((a, b) => b.title.length - a.title.length)

// 3단계: 별칭 매칭 (제목 매칭이 없을 때만)
const aliasMatches = articles
  .filter(a => a.aliases.some(alias => text.includes(alias)))
  .sort((a, b) => b.title.length - a.title.length)

// 최종 선택: 정확한 제목 매칭 > 긴 제목 > 별칭
```

## 결론

**추천 전략:**
- **정확한 제목 매칭 우선**
- **별칭은 선택적으로만 사용** (다양한 표현이 있을 때)
- **기본 개념 글은 별칭 최소화**

이렇게 하면:
- "Next.js" 언급 → 기본 개념 글 (글 A)
- "Next.js의 장점" 언급 → 해당 글 (글 B)
- 자연스럽고 예측 가능한 링크 생성

